{% extends "base_view.html" %}
{% load date_fmt %}

{% block title %} meliza-lab : bird : {{ animal.name }} {% endblock %}

{% block content %}
<h2>{{ animal.name }}</h2>

<hr>
<dl class="dl-horizontal">
  <dt>species</dt><dd>{{ animal.species }}</dd>
  <dt>sex</dt><dd>{{ animal.sex }}</dd>
  <dt>band</dt><dd>{{ animal.band }}</dd>
  <dt>plumage</dt><dd>{{ animal.plumage }}</dd>
  <dt>uuid</dt><dd>{{ animal.uuid }}</dd>
  <dt>alive</dt><dd>{{ animal.alive|yesno }}</dd>
  <dt>acquired</dt><dd>{{ animal.acquisition_event.event_date }}</dd>
  <dt>age</dt><dd>{{ animal.age_days|agestr }} ({{ animal.age_group }})</dd>
  {% if animal.expected_hatch %}<dt>expected hatch</dt><dd>{{ animal.expected_hatch}}</dd>{% endif %}
  <dt>sire</dt><dd>{% if animal.sire %}<a href="{{ animal.sire.get_absolute_url }}">{{ animal.sire }}</a>{% endif %}</dd>
  <dt>dam</dt><dd>{% if animal.dam %}<a href="{{ animal.dam.get_absolute_url }}">{{ animal.dam }}</a>{% endif %}</dd>
  <dt>reserved by</dt><dd><span class="text-warning">{{ animal.reserved_by }}</span></dd>
</dl>

<h3>F1 (children)</h3>
<dl class="dl-horizontal">
  <dt>total</dt><dd>{{ generations.0.count }}</dd>
  <dt>living</dt><dd>{{ living.0.count }}</dd>
</dl>

{% include "birds/animal_table.html" with animal_list=generations.0 %}

<h3>F2 (grandchildren)</h3>
<dl class="dl-horizontal">
  <dt>total</dt><dd>{{ generations.1.count }}</dd>
  <dt>living</dt><dd>{{ living.1.count }}</dd>
</dl>
{% include "birds/animal_table.html" with animal_list=generations.1 %}

<h3>F3 (great-grandchildren)</h3>
<dl class="dl-horizontal">
  <dt>total</dt><dd>{{ generations.2.count }}</dd>
  <dt>living</dt><dd>{{ living.2.count }}</dd>
</dl>
{% include "birds/animal_table.html" with animal_list=generations.2 %}

<h3>F4 (great-great-grandchildren)</h3>
<dl class="dl-horizontal">
  <dt>total</dt><dd>{{ generations.3.count }}</dd>
  <dt>living</dt><dd>{{ living.3.count }}</dd>
</dl>
{% include "birds/animal_table.html" with animal_list=generations.3 %}


{% endblock %}
